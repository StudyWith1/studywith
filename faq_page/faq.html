<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title data-lang="faqTitle">StudyWith - Questions & Answers</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../faq_page/faq.css" />
    <link rel="icon" href="../images/menu-logo.ico">
    <link rel="stylesheet" href="/scroll-to-top/scroll-to-top.css">
    <link rel="stylesheet" href="/preloader/preloader.css">
    <script src="/scroll-to-top/scroll-to-top.js"></script>
  </head>
  <body>
    <main>
      <section class="faq-section">
        <div class="faq-container">
          <h1 data-lang="title">Частi запитання</h1>
          <div class="faq-line"></div>
          <!-- FAQ Items -->
          <div class="faq-item">
            <button class="faq-question">
              <span data-lang="paymentMethodsQuestion"
                >Які способи оплати приймає платформа?</span
              >
              <span class="arrow" data-lang="arrow">&#62;</span>
            </button>
            <div class="faq-answer">
              <p data-lang="paymentMethodsAnswer">
                Наша платформа пiдтримує кiлька способiв оплати:
              </p>
              <ul>
                <li data-lang="bankCards">
                  Банкiвськi картки (Visa, Mastercard)
                </li>
                <li data-lang="onlineBanking">Онлайн-банкiнг</li>
                <li data-lang="promoCodes">
                  Промокоди для знижок або безкоштовного доступу
                </li>
                <li data-lang="eWallets">
                  Електроннi гаманцi (наприклад, PayPal)
                </li>
              </ul>
              <p data-lang="paymentSupport">
                Якщо у вас виникли труднощi з оплатою, звертайтеся до служби
                підтримки.
              </p>
            </div>
          </div>
          <div class="faq-item">
            <button class="faq-question">
              <span data-lang="forgotPasswordQuestion">
                Що робити, якщо я забув пароль?
              </span>
              <span class="arrow" data-lang="arrow">&#62;</span>
              <!-- Стрілка -->
            </button>
            <div class="faq-answer">
              <p data-lang="forgotPasswordAnswer">Якщо ви забули пароль:</p>
              <ol>
                <li data-lang="forgotPasswordStep1">
                  Натиснiть кнопку "Забули пароль?" на сторiнцi входу.
                </li>
                <li data-lang="forgotPasswordStep2">
                  Введiть вашу електронну адресу.
                </li>
                <li data-lang="forgotPasswordStep3">
                  Перевiрте пошту — ми надiшлемо iнструкцiї для вiдновлення
                  доступу. Якщо ви не отримали листа, перевiрте папку "Спам" або
                  звернiться до служби пiдтримки.
                </li>
              </ol>
            </div>
          </div>
          <div class="faq-item">
            <button class="faq-question">
              <span data-lang="downloadMaterialsQuestion"
                >Чи можу я завантажити матерiали курсу на свiй пристрiй?</span
              >
              <span class="arrow">&#62;</span>
              <!-- Стрілка -->
            </button>
            <div class="faq-answer">
              <p data-lang="downloadMaterialsAnswer">
                На жаль, така можливість не надається. Завантаження матеріалів курсу не є дозволеним з метою забезпечення захисту авторських прав викладача.
              </p>
            </div>
          </div>
          <div class="faq-item">
            <button class="faq-question">
              <span data-lang="courseAccessAfterEndQuestion">
                Чи доступнi матерiали пiсля завершення курсу?</span
              >
              <span class="arrow">&#62;</span>
              <!-- Стрілка -->
            </button>
            <div class="faq-answer">
              <p data-lang="courseAccessAfterEndAnswer">
                Так, всi матерiали доступнi для перегляду навiть пiсля
                завершення курсу. Ви можете повернутися до них у будь-який час.
              </p>
            </div>
          </div>
          <div class="faq-item">
            <button class="faq-question">
              <span data-lang="demoVersionQuestion">
                Чи є демо-версiя курсу перед покупкою?</span
              >
              <span class="arrow">&#62;</span>
              <!-- Стрілка -->
            </button>
            <div class="faq-answer">
              <p data-lang="demoVersionAnswer">
                Так, на деякi курси доступнi демо-версiї, щоб ви могли
                ознайомитись iз матералами перед покупкою.
              </p>
            </div>
          </div>
          <div class="faq-item">
            <button class="faq-question">
              <span data-lang="reviewTeacherQuestion">
                Як залишити відгук про викладача?</span
              >
              <span class="arrow">&#62;</span>
              <!-- Стрілка -->
            </button>
            <div class="faq-answer">
              <p data-lang="reviewTeacherAnswer">
                Ви можете залишити вiдгук про викладача пiсля завершення курсу в
                роздiлi "Вiдгуки" на сторiнцi курсу.
              </p>
            </div>
          </div>
          <div class="faq-item">
            <button class="faq-question">
              <span data-lang="suggestTopicQuestion">
                Чи можу я запропонувати тему для нового курсу?</span
              >
              <span class="arrow">&#62;</span>
              <!-- Стрілка -->
            </button>
            <div class="faq-answer">
              <p data-lang="suggestTopicAnswer">
                Так, ви можете запропонувати тему для нового курсу надiславши
                пропозицiю через електронну пошту або любим iншим способом
                вказаним на сторiнцi контактiв.
              </p>
            </div>
          </div>
          <div class="faq-item">
            <button class="faq-question">
              <span data-lang="transferAccessQuestion">
                Чи можна передати доступ до курсу iншiй людинi?</span
              >
              <span class="arrow">&#62;</span>
              <!-- Стрілка -->
            </button>
            <div class="faq-answer">
              <p data-lang="transferAccessAnswer">
                Нi, доступ до курсу не можна передавати iншiй людинi, оскiльки
                вiн прив'язаний до вашого акаунту.
              </p>
            </div>
          </div>
          <div class="faq-item">
            <button class="faq-question">
              <span data-lang="promoCodeQuestion">
                Як отримати промокод на знижку?</span
              >
              <span class="arrow">&#62;</span>
              <!-- Стрілка -->
            </button>
            <div class="faq-answer">
              <p data-lang="promoCodeAnswer">
                Промокоди на знижки можна отримати пiд час сезонних розпродажiв
                або спецiальних акцiй, якi ми проводимо для наших користувачiв.
                Слiдкуйте за нашими оновленнями на сайтi та в соцiальних
                мережах, щоб не пропустити вигiднi пропозицiї!
              </p>
            </div>
          </div>
          <button id="scrollToTopBtn" class="scroll-to-top-btn">
            <i class="fas fa-chevron-up"></i>
          </button>
          <!-- Add more FAQ items as needed -->
        </div>
      </section>
      <section class="add-question-section">
        <h2 data-lang="AdditionalQuestion">Add your question</h2>
        <form id="questionForm">
          <label id="questionInput-1"  for="questionInput"  data-lang="YourQuestion">Your question:</label>
          <textarea id="questionInput" name="question" required></textarea>
          <button type="submit" data-lang="Send">Send</button>
          <p id="message" style="display:none;"></p>
        </form>
      </section>
    </main>
    
    <script src="../header/auth-header.js"></script>
    <script src="../footer/footer.js"></script>
    <script>
      document.querySelectorAll(".faq-question").forEach((question) => {
        question.addEventListener("click", () => {
          // Перемикаємо клас 'active' для питання
          question.classList.toggle("active");

          // Відображаємо або приховуємо відповідь
          const answer = question.nextElementSibling;
          answer.classList.toggle("open");
        });
      });
    </script>
    <script>
      const translations = {
        en: {
          arrow: "&#62;",
          faqTitle: "StudyWith | FAQ",
          title: "Frequently asked questions",
          paymentMethodsQuestion:
            "What payment methods does the platform accept?",
          paymentMethodsAnswer:
            "Our platform supports several payment methods:",
          bankCards: "Bank cards (Visa, Mastercard)",
          onlineBanking: "Online banking",
          promoCodes: "Promo codes for discounts or free access",
          eWallets: "E-wallets (e.g., PayPal)",
          paymentSupport:
            "If you have any issues with payment, contact support.",
          forgotPasswordQuestion: "What to do if I forgot my password?",
          forgotPasswordAnswer: "If you forgot your password:",
          forgotPasswordStep1:
            'Click the "Forgot Password?" button on the login page.',
          forgotPasswordStep2: "Enter your email address.",
          forgotPasswordStep3:
            'Check your email — we will send instructions for recovery. If you didn’t receive the email, check the "Spam" folder or contact support.',
          downloadMaterialsQuestion:
            "Can I download course materials to my device?",
          downloadMaterialsAnswer:
            "Unfortunately, this is not possible. Downloading course materials is not permitted to ensure the protection of the teacher's copyright.",
          courseAccessAfterEndQuestion:
            "Are course materials available after the course ends?",
          courseAccessAfterEndAnswer:
            "Yes, all materials are available for viewing even after the course ends. You can return to them at any time.",
          demoVersionQuestion:
            "Is there a demo version of the course before purchasing?",
          demoVersionAnswer:
            "Yes, some courses offer demo versions so you can preview the materials before purchasing.",
          reviewTeacherQuestion:
            "How can I leave feedback about the instructor?",
          reviewTeacherAnswer:
            'You can leave feedback about the instructor after completing the course in the "Reviews" section on the course page.',
          suggestTopicQuestion: "Can I suggest a topic for a new course?",
          suggestTopicAnswer:
            "Yes, you can suggest a topic for a new course by sending a proposal via email or any other method listed on the contact page.",
          transferAccessQuestion:
            "Can I transfer access to the course to someone else?",
          transferAccessAnswer:
            "No, course access cannot be transferred to someone else, as it is linked to your account.",
          promoCodeQuestion: "How can I get a promo code for a discount?",
          promoCodeAnswer:
            "Promo codes for discounts can be obtained during seasonal sales or special promotions that we run for our users. Stay tuned for updates on our website and social media to not miss great offers!",
          AdditionalQuestion: "Add your question",
          YourQuestion:  "Your question:",
          Send: "Send",
          questionSentSuccess: "Your question was successfully sent!",
          questionSentError: "Error:",
          questionSendFailed: "Could not send question. Please try again later.",
          loginRequired: "Please log in to submit a question.",
          changeLanguage: "Change Language",
          submitQuestion: "Submit your question below:",
        },
        ua: {
          arrow: "&#62;",
          faqTitle: "StudyWith | Часті запитання",
          paymentMethodsQuestion: "Які способи оплати приймає платформа?",
          paymentMethodsAnswer:
            "Наша платформа підтримує кілька способів оплати:",
          bankCards: "Банківські картки (Visa, Mastercard)",
          onlineBanking: "Онлайн-банкінг",
          promoCodes: "Промокоди для знижок або безкоштовного доступу",
          eWallets: "Електронні гаманці (наприклад, PayPal)",
          paymentSupport:
            "Якщо у вас виникли проблеми з оплатою, зверніться до служби підтримки.",
          forgotPasswordQuestion: "Що робити, якщо я забув пароль?",
          forgotPasswordAnswer: "Якщо ви забули пароль:",
          forgotPasswordStep1:
            'Натисніть кнопку "Забули пароль?" на сторінці входу.',
          forgotPasswordStep2: "Введіть свою електронну адресу.",
          forgotPasswordStep3:
            'Перевірте свою електронну пошту — ми надішлемо інструкції для відновлення доступу. Якщо ви не отримали листа, перевірте папку "Спам" або зверніться до служби підтримки.',
          downloadMaterialsQuestion:
            "Чи можу я завантажити матеріали курсу на свій пристрій?",
          downloadMaterialsAnswer:
            "Так, більшість курсів дозволяють завантажувати навчальні матеріали (конспекти, презентації, чек-листи тощо) для офлайн використання. Однак відео-лекції доступні тільки онлайн для захисту авторських прав.",
          courseAccessAfterEndQuestion:
            "Чи доступні матеріали після завершення курсу?",
          courseAccessAfterEndAnswer:
            "Так, всі матеріали доступні для перегляду навіть після завершення курсу. Ви можете повернутися до них у будь-який час.",
          demoVersionQuestion: "Чи є демо-версія курсу перед покупкою?",
          demoVersionAnswer:
            "Так, деякі курси мають демо-версії, щоб ви могли ознайомитися з матеріалами перед покупкою.",
          reviewTeacherQuestion: "Як залишити відгук про викладача?",
          reviewTeacherAnswer:
            'Ви можете залишити відгук про викладача після завершення курсу в розділі "Відгуки" на сторінці курсу.',
          suggestTopicQuestion:
            "Чи можу я запропонувати тему для нового курсу?",
          suggestTopicAnswer:
            "Так, ви можете запропонувати тему для нового курсу, надіславши пропозицію через електронну пошту або будь-яким іншим способом, зазначеним на сторінці контактів.",
          transferAccessQuestion:
            "Чи можна передати доступ до курсу іншій людині?",
          transferAccessAnswer:
            "Ні, доступ до курсу не можна передавати іншій людині, оскільки він прив’язаний до вашого акаунту.",
          promoCodeQuestion: "Як отримати промокод на знижку?",
          promoCodeAnswer:
            "Промокоди на знижки можна отримати під час сезонних розпродажів або спеціальних акцій, які ми проводимо для наших користувачів. Слідкуйте за оновленнями на нашому сайті та в соціальних мережах, щоб не пропустити вигідні пропозиції!",
          AdditionalQuestion: "Напишіть ваше запитання",
          YourQuestion:  "Ваше запитання:",
          Send: "Відправити",
          questionSentSuccess: "Ваше запитання було успішно надіслано!",
          questionSentError: "Помилка:",
          questionSendFailed: "Не вдалося надіслати запитання. Будь ласка, спробуйте пізніше.",
          loginRequired: "Увійдіть, щоб надіслати запитання.",
          changeLanguage: "Змінити мову",
          submitQuestion: "Надішліть ваше запитання:",
        },
      };

      function applyLanguage(lang) {
        const langData = translations[lang]|| translations.en;

        document.title = langData.faqTitle;

        document.querySelectorAll("[data-lang]").forEach((element) => {
          const langKey = element.getAttribute("data-lang");
          if (langData[langKey]) {
            if (element.tagName === "INPUT") {
              element.setAttribute("placeholder", langData[langKey]);
            } else if (element.tagName === "BUTTON") {
              element.textContent = langData[langKey];
            } else if (element.tagName === "H2") {
              element.textContent = langData[langKey];
            } else if (element.tagName === "P") {
              element.textContent = langData[langKey];
            } else {
              element.innerHTML = langData[langKey];
            }
          }
        });
      }

      document.addEventListener("DOMContentLoaded", () => {
        const userLang = localStorage.getItem("language") || "en"; // Default to English
        applyLanguage(userLang);
      });

      // Перевірка авторизації
async function checkAuth() {
  const token = localStorage.getItem('token'); // Припустимо, токен зберігається в localStorage
  if (!token) {
    document.querySelector('.add-question-section').style.display = 'none'; // Приховуємо форму
    return false;
  }

  try {
    const response = await fetch("http://localhost:8000/auth/auth-check", {
      method: "GET",
      headers: { Authorization: `Bearer ${token}` },
    });



  const result = await response.json();
  if (!result.authenticated) {
    document.querySelector('.add-question-section').style.display = 'none'; // Приховуємо форму
    return false;
  }
  return true;
}catch (error) {
    console.error("Authorization check failed:", error);
    return false;
  }
} 

      // Обробка форми
      document.getElementById("questionForm").addEventListener("submit", async function (event) { 
        event.preventDefault();

  const token = localStorage.getItem('token'); // Токен авторизації
  const  userLang = localStorage.getItem("language") || "en";
  const langData = translations[userLang]|| translations.en;
  const messageElement = document.getElementById("message");
  if (!token) {
    alert(langData.loginRequired || "Please log in to submit a question.");
    return;
  }

  const question = document.getElementById('questionInput').value;
  if (!question.trim()) {
    alert(langData.questionSendFailed || "Question cannot be empty.");
    return;
  }

  try {
    const response = await fetch('http://localhost:8000/auth/submit-question', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        Authorization: `Bearer ${token}`,
      },
      body: JSON.stringify({ question }),
    });

    const result = await response.json();
    if (result.success) {
      messageElement.textContent = langData.questionSentSuccess;
      messageElement.style.color = 'green';
      document.getElementById('questionForm').reset();
    } else {
      messageElement.textContent = `${langData.questionSentError} ${result.error}`;
      messageElement.style.color = 'red';
    }
    
  } catch (error) {
    console.error("Error submitting question:", error);
    alert(langData?.questionSendFailed || "An error occurred.");
  }
  messageElement.style.display = 'block';
});
// Викликаємо перевірку авторизації під час завантаження сторінки
window.onload = async () => {
  const userLang = localStorage.getItem("language") || "en";
  applyLanguage(userLang);
  await checkAuth();
};

    </script>
    <script src="/preloader/preloader.js"></script>
  </body>
</html>
